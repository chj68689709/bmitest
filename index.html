<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RhineLife BMI Calculator</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }
    body {
      margin: 0;
      padding: 0;
      background: url("rhine logo.jpg") no-repeat center center fixed;
      background-size: cover;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: #fff;
    }
    #container {
      background: rgba(0, 0, 0, 0.7);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
      text-align: center;
      transition: all 0.3s ease;
    }
    input {
      padding: 0.5rem;
      margin: 0.5rem;
      border-radius: 5px;
      border: none;
      width: 80%;
    }
    button {
      padding: 0.7rem 1.5rem;
      border: none;
      border-radius: 5px;
      background-color: #4caf50;
      color: white;
      cursor: pointer;
      margin-top: 1rem;
    }
    #result {
      margin-top: 1rem;
      font-size: 1.2rem;
      min-height: 50px;
      white-space: pre-wrap;
    }
    #rickroll {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 9999;
      object-fit: cover;
    }
  </style>
</head>
<body>
  <div id="container">
    <h2>RhineLife 身體質量指數（BMI）評估</h2>
    <p>請輸入你的身高與體重，了解你的健康狀況</p>
    <input type="number" id="height" placeholder="身高（公分）" /><br/>
    <input type="number" id="weight" placeholder="體重（公斤）" /><br/>
    <button onclick="calculateBMI()">計算</button>
    <div id="result"></div>
  </div>

  <!-- 影片檔會跟 index.html 放在同一資料夾中 -->
  <video id="rickroll" src="rickroll.mp4" autoplay muted playsinline></video>

  <script>
    function calculateBMI() {
      const height = parseFloat(document.getElementById('height').value);
      const weight = parseFloat(document.getElementById('weight').value);
      const resultDiv = document.getElementById('result');

      if (!height || !weight || height <= 0 || weight <= 0) {
        resultDiv.innerText = "請輸入有效的數值。";
        return;
      }

      const bmi = (weight / ((height / 100) ** 2)).toFixed(1);
      const message = `正在分析你的數據中...`;
      resultDiv.innerText = '';
      
      let index = 0;
      const typeInterval = setInterval(() => {
        if (index < message.length) {
          resultDiv.innerText += message.charAt(index);
          index++;
        } else {
          clearInterval(typeInterval);
          setTimeout(() => {
            resultDiv.innerText = '';
            typeOut(`你的 BMI 是 ${bmi}，分析結果為...`);
          }, 1000);
        }
      }, 100);
    }

    function typeOut(fullText) {
      const resultDiv = document.getElementById('result');
      let index = 0;
      const typeInterval = setInterval(() => {
        if (index < fullText.length) {
          resultDiv.innerText += fullText.charAt(index);
          index++;
        } else {
          clearInterval(typeInterval);
          setTimeout(triggerRickroll, 1500);
        }
      }, 100);
    }

    function triggerRickroll() {
     document.getElementById('container').style.display = 'none';
     const video = document.getElementById('rickroll');
     video.style.display = 'block';
     video.muted = false;  // 嘗試取消靜音
     video.volume = 1.0;
     video.play();
}

    }
  </script>
</body>
</html>
